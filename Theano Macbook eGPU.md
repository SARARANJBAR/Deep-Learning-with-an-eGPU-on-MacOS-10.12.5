# Get Theano running on a Macbook Pro with an eGPU

### Hardware Requirements (what I used):
1. a Macbook Pro 15-inch (MacBookPro13,3 Intel Core i7 @ 2.9 GHz 16 GB ram) running Mac OS 10.12.5 Sierra. Though this process should work on any Mac with Thunderbolt 3 / USB-C
1. a Thunderbolt 3 eGPU enclosure. Make sure it has the TI83 Thunderbolt 3 chipset. For more info see this site: [eGPU Buyers Guide](https://egpu.io/external-gpu-buyers-guide-2017/). Lots of good info there. I chose the [Mantiz Venus](https://mymantiz.com/collections/shop/products/mz-02-venus?variant=28876425155). It arrived 4 days after I ordered it (shipped from Singapore). See Figure 1. The Mantiz website says the Venus requires a host running Windows 10. Don't worry - it works just fine with Mac OS 10.12.5 Sierra, after you apply a kernel patch (more below). The kernel patch requirment should [go away once Mac OS High Sierra is released](https://9to5mac.com/2017/06/07/hands-on-macos-high-sierra-native-egpu-support-shows-promise-video/). The Venus has a number of other nice features (read the review on the Buyers Guide), one of which is the ability to charge the Macbook Pro over the TB3 connection.
1. a recent NVIDIA GPU. I chose the [eVGA GTX 1080Ti](https://www.amazon.com/gp/product/B06Y11DFZ3/). This is based on the NVIDIA Pascal architecture. This card fits nicely inside the Mantiz Venus, with good air circulation around the GPU. The card draws 250 watts, well within the limits available for PCI cards installed in the Venus. So far, everything has been stable (2 days).

### Hardware Installation Tips
* The Mantiz Venus user's guide asks you make sure the unit is unplugged, then to unscrew the "card holder". This is a small L-shaped metal bracket. However, this causes the card holder to fall down inside the Venus, and strike the motherboard! My suggestion is to first remove the perforated side panel from the Venus. You can just pull it off. There are soft plugs that hold it in place. Next, place your hand inside the unit, above the Venus motherboard, near the rear of the unit and _below_ the card holder so you can catch it. _Now_  unscrew the card holder!
* I recommend attaching the internal power cables to the GPU before you install it in the Venus PCI-e slot. It is tough to connect the power cables after the GPU is installed in the slot.
* Once you have the GPU installed and connected to power cables, you can connect the external power cord and plug it into the wall. If you turn the Venus on via its rear power switch, nothing will happen! This was a bit of a shock. Do not worry. Eventually I figured out that the Venus will not power on until after it is connected to a host via the TB3 / USB-C cable! Would be nice for Mantiz to mention this in the (very brief) user guide.

![eGPU + MacBook Pro Setup](../GBMSegmentation/eGPU_setup.jpg)
